<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <style>
        .searchbar-container {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .searchbar-form {
            width: 80%;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: space-between;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .searchbar-form select,
        .searchbar-form input,
        .searchbar-form button {
            margin: 5px;
            padding: 10px;
            font-size: 16px;
            border: none;
            border-radius: 3px;
            outline: none;
        }

        .searchbar-form select {
            flex-grow: 2;
            max-width: 40%;
        }

        .searchbar-form input {
            flex-grow: 5;
            max-width: 50%;
        }

        .searchbar-form button {
            flex-grow: 1;
            max-width: 40%;
            cursor: pointer;
            background-color: #007bff;
            color: #fff;
        }

        #content {
            margin-top: 50px;
            display: flex;
            flex-wrap: wrap;
            justify-content: flex-start;
        }

        .image-container {
            flex: 0 0 calc(33.33% - 20px); /* Three images per row with spacing */
            margin: 10px;
        }

        .image-container img {
            width: 100%;
            height: auto;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="searchbar-container">
        <form action="#" class="searchbar-form">
            <select id="category">
                <option value="all">All Categories</option>
                <option value="phishing">Phishing</option>
                <option value="scams">Scams</option>
                <!-- Add other categories here -->
            </select>

            <select id="subcategory">
                <option value="all">All Subcategories</option>
                <!-- Subcategory options will be populated dynamically based on the selected category -->
            </select>

            <input type="search" id="search" placeholder="Search">
            <button type="submit">Search</button>
        </form>
    </div>

    <div id="content">
        <!-- Images will be displayed here -->
    </div>

    <script>
        // Define real-life examples for each category and subcategory
        const examples = {
            phishing: {
                urgentEmail: "/assets/images/resources/1password.png",
                blackmailEmail: "/assets/images/resources/avast.png",
                securityEmail: "/assets/images/resources/brave.png",
            },
            scams: {
                example1: "/assets/images/resources/dashlane.png",
                example2: "/assets/images/resources/duckduck.png",
                // Add more scam examples here
            },
            // Add more categories and subcategories with image URLs
        };

        // Populate subcategory options based on the selected category
        const categoryDropdown = document.getElementById("category");
        const subcategoryDropdown = document.getElementById("subcategory");
        const searchInput = document.getElementById("search");
        const contentSection = document.getElementById("content");

        categoryDropdown.addEventListener("change", function () {
            const selectedCategory = categoryDropdown.value;
            const subcategories = Object.keys(examples[selectedCategory]);

            // Clear previous subcategory options
            subcategoryDropdown.innerHTML = "<option value='all'>All Subcategories</option>";

            // Create new subcategory options
            subcategories.forEach(function (subcategory) {
                const option = document.createElement("option");
                option.value = subcategory;
                option.textContent = subcategory;
                subcategoryDropdown.appendChild(option);
            });
        });

        // Handle form submission
        document.querySelector(".searchbar-form").addEventListener("submit", function (e) {
            e.preventDefault();

            const selectedCategory = categoryDropdown.value;
            const selectedSubcategory = subcategoryDropdown.value;
            const searchTerm = searchInput.value.toLowerCase();
            let results = [];

            // Iterate through all categories and subcategories
            Object.keys(examples).forEach(function (category) {
                Object.keys(examples[category]).forEach(function (subcategory) {
                    const imageUrl = examples[category][subcategory];

                    // Check if the example matches the selected category, subcategory, or search term
                    if (
                        (selectedCategory === "all" || selectedCategory === category) &&
                        (selectedSubcategory === "all" || selectedSubcategory === subcategory) &&
                        (searchTerm === "" || imageUrl.toLowerCase().includes(searchTerm))
                    ) {
                        results.push(imageUrl);
                    }
                });
            });

            // Display the filtered images
            contentSection.innerHTML = results.map(function (imageUrl) {
                return `<div class="image-container"><img src="${imageUrl}" alt="Image"></div>`;
            }).join("");
        });
    </script>
</body>
</html>
